Задание 1

HTML

<!DOCTYPE html> 
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="19.7.css">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover">
    <title>19.7 Практическая работа</title>
  </head>
  <body>
    <div id="app">
      
    </div>

    <script type="module" src="main.js"></script>
  </body>
</html>



CSS

.delivery-card {
    background-color: white;
    border-radius: 11px;
}

body {
    font-family: sans-serif;
    padding: 20px;
    background-color: #e9e9e9;
}

.delivery-container {
    display: flex;
    gap: 20px;
}

.delivery-card {
    min-width: 200px;
}

.delivery-field-title {
    margin-bottom: 5px;
}

.delivery-field-value {
    font-weight: bold;
    margin-bottom: 15px;
    font-size: 16px;
}



JS


main.js

import Delivery from './Delivery.js';

const deliveryArr = [
    new Delivery("Ольга", "ул. Вымыслов, д. 12", 8),
    new Delivery("Дмитрий", "ул. Задачная, д. 7", 3),
    new Delivery("Оля", "ул. Ткачей, д. 43", 11)
];

const app = document.getElementById('app');

const deliveryContainer = document.createElement('div');
deliveryContainer.className = 'delivery-container';

deliveryArr.forEach(delivery => {
    deliveryContainer.appendChild(delivery.getElement());
});

app.appendChild(deliveryContainer);


Delivery.js

export default class Delivery {
    constructor(name, address, distance) {
        this._name = name;
        this._address = address;
        this._distance = distance;
        this._element = null;
    }

    get name() {
        return this._name;
    }

    get address() {
        return this._address;
    }

    get distance() {
        return this._distance;
    }

    set name(newName) {
        this._name = newName;
        this._updateView();
    }

    set address(newAddress) {
        this._address = newAddress;
        this._updateView();
    }

    set distance(newDistance) {
        this._distance = newDistance;
        this._updateView();
    }

    createElement() {
        const card = document.createElement('div');
        card.className = 'delivery-card';

        const nameTitle = document.createElement('div');
        nameTitle.className = 'delivery-field-title';
        nameTitle.textContent = 'Имя';

        const nameValue = document.createElement('div');
        nameValue.className = 'delivery-field-value';
        nameValue.textContent = this._name;

        const addressTitle = document.createElement('div');
        addressTitle.className = 'delivery-field-title';
        addressTitle.textContent = 'Адрес';

        const addressValue = document.createElement('div');
        addressValue.className = 'delivery-field-value';
        addressValue.textContent = this._address;

        const distanceTitle = document.createElement('div');
        distanceTitle.className = 'delivery-field-title';
        distanceTitle.textContent = 'Расстояние';

        const distanceValue = document.createElement('div');
        distanceValue.className = 'delivery-field-value';
        distanceValue.textContent = this._distance + ' км';

        card.appendChild(nameTitle);
        card.appendChild(nameValue);
        card.appendChild(addressTitle);
        card.appendChild(addressValue);
        card.appendChild(distanceTitle);
        card.appendChild(distanceValue);

        this._element = card;
        return card;
    }

    _updateView() {
        if (!this._element) return;

        const children = this._element.children;
        if (children[1]) children[1].textContent = this._name;
        if (children[3]) children[3].textContent = this._address;
        if (children[5]) children[5].textContent = this._distance + ' км';
    }

    getElement() {
        if (!this._element) {
            this.createElement();
        }
        return this._element;
    }
}




Задание 2

HTML

<!DOCTYPE html> 
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="19.7.css">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover">
    <title>19.7 Практическая работа</title>
  </head>
  <body>
    <div id="app">
      
    </div>

    <script type="module" src="main.js"></script>
  </body>
</html>



CSS

body {
    font-family: sans-serif;
    padding: 20px;
    background-color: #e9e9e9;
}

.delivery-card {
    background-color: white;
    border-radius: 11px;
    position: relative;
    padding-top: 40px;
    min-width: 200px;
}

.delivery-container {
    display: flex;
    gap: 20px;
}

.delivery-field-title {
    margin-bottom: 5px;
}

.delivery-field-value {
    font-weight: bold;
    margin-bottom: 15px;
    font-size: 16px;
}

div {
    margin-bottom: 5px;
}

button {
    margin-top: 10px;
}

.edit-button {
    position: absolute;
    top: 10px;
    right: 10px;
    margin: 0;
    padding: 2px 8px;
    font-size: 12px;
    color: #95b3fa;
    border-color: #95b3fa;
    border-radius: 10px;
    cursor: pointer;
}

.edit-button:hover {
    background-color: #95b3fa;
    color: white;
}

.edit-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    padding: 20px;
    border-radius: 11px;
    width: 300px;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #e0e0e0;
}

.modal-header h3 {
    margin: 0;
    color: #333;
}

.modal-close {
    font-size: 24px;
    cursor: pointer;
    width: 30px;
    height: 30px;
    text-align: center;
    line-height: 30px;
    border-radius: 50%;
    color: #95b3fa;
}

.modal-close:hover {
    color: #ffffff;
    background-color: #95b3fa;
}

.modal-content label {
    display: block;
    margin-top: 10px;
    margin-bottom: 5px;
    font-weight: bold;
}

.modal-content input,
.modal-content select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

.save-button {
    width: 100%;
    padding: 8px;
    margin-top: 15px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    background-color: #2058f4;
    color: white;
}

.save-button:hover {
    background-color: #5583f6;
    color: white;
}

.status-delivered {
    border: 3px solid #1e7a1c;
}

.status-delivery {
    border: 3px solid #b58820;
}

.status-canceled {
    border: 3px solid #c41212;
}



JS


main.js

import EditDelivery from './EditDelivery.js';

const deliveryArr = [
    new EditDelivery("Ольга", "ул. Вымыслов, д. 12", 8, "delivery"),
    new EditDelivery("Дмитрий", "ул. Задачная, д. 7", 3, "delivered"),
    new EditDelivery("Оля", "ул. Ткачей, д. 43", 11, "canceled")
];

const app = document.getElementById('app');

const deliveryContainer = document.createElement('div');
deliveryContainer.className = 'delivery-container';

deliveryArr.forEach(delivery => {
    deliveryContainer.appendChild(delivery.getElement());
});

app.appendChild(deliveryContainer);



Delivery.js

export default class Delivery {
    constructor(name, address, distance) {
        this._name = name;
        this._address = address;
        this._distance = distance;
        this._element = null;
    }

    get name() {
        return this._name;
    }

    get address() {
        return this._address;
    }

    get distance() {
        return this._distance;
    }

    set name(newName) {
        this._name = newName;
        this._updateView();
    }

    set address(newAddress) {
        this._address = newAddress;
        this._updateView();
    }

    set distance(newDistance) {
        this._distance = newDistance;
        this._updateView();
    }

    createElement() {
        const card = document.createElement('div');
        card.className = 'delivery-card';

        const nameTitle = document.createElement('div');
        nameTitle.className = 'delivery-field-title';
        nameTitle.textContent = 'Имя';

        const nameValue = document.createElement('div');
        nameValue.className = 'delivery-field-value';
        nameValue.textContent = this._name;

        const addressTitle = document.createElement('div');
        addressTitle.className = 'delivery-field-title';
        addressTitle.textContent = 'Адрес';

        const addressValue = document.createElement('div');
        addressValue.className = 'delivery-field-value';
        addressValue.textContent = this._address;

        const distanceTitle = document.createElement('div');
        distanceTitle.className = 'delivery-field-title';
        distanceTitle.textContent = 'Расстояние';

        const distanceValue = document.createElement('div');
        distanceValue.className = 'delivery-field-value';
        distanceValue.textContent = this._distance + ' км';

        card.appendChild(nameTitle);
        card.appendChild(nameValue);
        card.appendChild(addressTitle);
        card.appendChild(addressValue);
        card.appendChild(distanceTitle);
        card.appendChild(distanceValue);

        this._element = card;
        return card;
    }

    _updateView() {
        if (!this._element) return;

        const children = this._element.children;
        if (children[1]) children[1].textContent = this._name;
        if (children[3]) children[3].textContent = this._address;
        if (children[5]) children[5].textContent = this._distance + ' км';
    }

    getElement() {
        if (!this._element) {
            this.createElement();
        }
        return this._element;
    }
}


EditDelivery.js

import Delivery from './Delivery.js';

export default class EditDelivery extends Delivery {
    constructor(name, address, distance, status = "delivery") {
        super(name, address, distance);
        this._status = status;
    }

    get status() {
        return this._status;
    }

    set status(newStatus) {
        this._status = newStatus;
        this._updateCardStyle();
    }

    createElement() {
        const card = super.createElement();
        
        const editButton = document.createElement('button');
        editButton.className = 'edit-button';
        editButton.textContent = 'Изменить';
        editButton.addEventListener('click', () => this._showEditModal());
        
        card.appendChild(editButton);
        
        this._element = card;
        this._updateCardStyle();
        return card;
    }

    _updateCardStyle() {
        if (!this._element) return;
        
        this._element.classList.remove('status-delivery', 'status-delivered', 'status-canceled');
        
        if (this._status === "delivery") {
            this._element.classList.add('status-delivery');
        } else if (this._status === "delivered") {
            this._element.classList.add('status-delivered');
        } else if (this._status === "canceled") {
            this._element.classList.add('status-canceled');
        }
    }

    _showEditModal() {
        const modal = document.createElement('div');
        modal.className = 'edit-modal';
        
        const modalContent = document.createElement('div');
        modalContent.className = 'modal-content';
        
        const modalHeader = document.createElement('div');
        modalHeader.className = 'modal-header';
        
        const modalTitle = document.createElement('h3');
        modalTitle.textContent = 'Редактирование доставки';
        modalTitle.style.margin = '0';
        
        const closeButton = document.createElement('div');
        closeButton.className = 'modal-close';
        closeButton.innerHTML = '&times;';
        closeButton.addEventListener('click', () => {
            modal.remove();
        });
        
        modalHeader.appendChild(modalTitle);
        modalHeader.appendChild(closeButton);
        
        const nameLabel = document.createElement('label');
        nameLabel.textContent = 'Имя:';
        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.value = this._name;
        nameInput.placeholder = 'Имя';
        
        const addressLabel = document.createElement('label');
        addressLabel.textContent = 'Адрес:';
        const addressInput = document.createElement('input');
        addressInput.type = 'text';
        addressInput.value = this._address;
        addressInput.placeholder = 'Адрес';
        
        const distanceLabel = document.createElement('label');
        distanceLabel.textContent = 'Расстояние (км):';
        const distanceInput = document.createElement('input');
        distanceInput.type = 'number';
        distanceInput.value = this._distance;
        distanceInput.placeholder = 'Расстояние (км)';
        
        const statusLabel = document.createElement('label');
        statusLabel.textContent = 'Статус:';
        const statusSelect = document.createElement('select');
        
        const statuses = [
            {value: "delivery", text: "Доставляется"},
            {value: "delivered", text: "Доставлен"},
            {value: "canceled", text: "Отменён"}
        ];
        
        statuses.forEach(status => {
            const option = document.createElement('option');
            option.value = status.value;
            option.textContent = status.text;
            if (status.value === this._status) {
                option.selected = true;
            }
            statusSelect.appendChild(option);
        });
        
        const saveButton = document.createElement('button');
        saveButton.textContent = 'Сохранить';
        saveButton.className = 'save-button';
        saveButton.addEventListener('click', () => {
            this.name = nameInput.value;
            this.address = addressInput.value;
            this.distance = parseInt(distanceInput.value);
            this.status = statusSelect.value;
            modal.remove();
        });
        
        modalContent.appendChild(modalHeader);
        modalContent.appendChild(nameLabel);
        modalContent.appendChild(nameInput);
        modalContent.appendChild(addressLabel);
        modalContent.appendChild(addressInput);
        modalContent.appendChild(distanceLabel);
        modalContent.appendChild(distanceInput);
        modalContent.appendChild(statusLabel);
        modalContent.appendChild(statusSelect);
        modalContent.appendChild(saveButton);
        
        modal.appendChild(modalContent);
        document.body.appendChild(modal);
    }
}




Задание 3

HTML

<!DOCTYPE html> 
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="19.7.css">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no,viewport-fit=cover">
    <title>19.7 Практическая работа</title>
  </head>
  <body>
    <div id="app">
      
    </div>

    <script type="module" src="main.js"></script>
  </body>
</html>



CSS

body {
    font-family: sans-serif;
    padding: 20px;
    background-color: #e9e9e9;
}

.delivery-card {
    background-color: white;
    border-radius: 11px;
    position: relative;
    padding-top: 40px;
    min-width: 200px;
}

.delivery-field-title {
    margin-bottom: 5px;
}

.delivery-field-value {
    font-weight: bold;
    margin-bottom: 15px;
    font-size: 16px;
}

div {
    margin-bottom: 5px;
}

button {
    margin-top: 10px;
}

.edit-button {
    position: absolute;
    top: 10px;
    right: 10px;
    margin: 0;
    padding: 2px 8px;
    font-size: 12px;
    color: #95b3fa;
    border-color: #95b3fa;
    border-radius: 10px;
    cursor: pointer;
}

.edit-button:hover {
    background-color: #95b3fa;
    color: white;
}

.edit-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background-color: white;
    padding: 20px;
    border-radius: 11px;
    width: 300px;
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #e0e0e0;
}

.modal-header h3 {
    margin: 0;
    color: #333;
}

.modal-close {
    font-size: 24px;
    cursor: pointer;
    width: 30px;
    height: 30px;
    text-align: center;
    line-height: 30px;
    border-radius: 50%;
    color: #95b3fa;
}

.modal-close:hover {
    color: #ffffff;
    background-color: #95b3fa;
}

.modal-content label {
    display: block;
    margin-top: 10px;
    margin-bottom: 5px;
    font-weight: bold;
}

.modal-content input,
.modal-content select {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

.save-button {
    width: 100%;
    padding: 8px;
    margin-top: 15px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    background-color: #2058f4;
    color: white;
}

.save-button:hover {
    background-color: #5583f6;
    color: white;
}

.status-delivered {
    border: 3px solid #1e7a1c;
}

.status-delivery {
    border: 3px solid #b58820;
}

.status-canceled {
    border: 3px solid #c41212;
}

.delivery-container {
    display: flex;
    gap: 20px;
    margin-top: 20px;
}

.total-button {
    padding: 10px 20px;
    background-color: #2058f4;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 16px;
    position: absolute;
    top: 300px;
    left: 263px;
}

.total-button:hover {
    background-color: #5583f6;
}

.total-distance {
    padding: 15px;
    margin-top: 20px;
    margin-left: 200px;
    font-weight: bold;
    font-size: 18px;
    position: absolute;
    top: 325px;
    left: 30px;
}



JS


main.js

import EditDelivery from './EditDelivery.js';

const deliveryArr = [
    new EditDelivery("Ольга", "ул. Вымыслов, д. 12", 8, "delivery"),
    new EditDelivery("Дмитрий", "ул. Задачная, д. 7", 3, "delivered"),
    new EditDelivery("Оля", "ул. Ткачей, д. 43", 11, "canceled")
];

const app = document.getElementById('app');

const totalButton = document.createElement('button');
totalButton.textContent = 'Общее расстояние';
totalButton.className = 'total-button';
totalButton.addEventListener('click', () => {
    const totalDistance = EditDelivery.getTotalDistance(deliveryArr);
    if (!document.querySelector('.total-distance')) {
        const totalDiv = document.createElement('div');
        totalDiv.className = 'total-distance';
        totalDiv.textContent = `Общее расстояние: ${totalDistance} км`;
        app.appendChild(totalDiv);
    } else {
        document.querySelector('.total-distance').textContent = `Общее расстояние: ${totalDistance} км`;
    }
});

app.appendChild(totalButton);

const deliveryContainer = document.createElement('div');
deliveryContainer.className = 'delivery-container';

deliveryArr.forEach(delivery => {
    deliveryContainer.appendChild(delivery.getElement());
});

app.appendChild(deliveryContainer);



Delivery.js

export default class Delivery {
    constructor(name, address, distance) {
        this._name = name;
        this._address = address;
        this._distance = distance;
        this._element = null;
    }

    get name() {
        return this._name;
    }

    get address() {
        return this._address;
    }

    get distance() {
        return this._distance;
    }

    set name(newName) {
        this._name = newName;
        this._updateView();
    }

    set address(newAddress) {
        this._address = newAddress;
        this._updateView();
    }

    set distance(newDistance) {
        this._distance = newDistance;
        this._updateView();
    }

    createElement() {
        const card = document.createElement('div');
        card.className = 'delivery-card';

        const nameTitle = document.createElement('div');
        nameTitle.className = 'delivery-field-title';
        nameTitle.textContent = 'Имя';

        const nameValue = document.createElement('div');
        nameValue.className = 'delivery-field-value';
        nameValue.textContent = this._name;

        const addressTitle = document.createElement('div');
        addressTitle.className = 'delivery-field-title';
        addressTitle.textContent = 'Адрес';

        const addressValue = document.createElement('div');
        addressValue.className = 'delivery-field-value';
        addressValue.textContent = this._address;

        const distanceTitle = document.createElement('div');
        distanceTitle.className = 'delivery-field-title';
        distanceTitle.textContent = 'Расстояние';

        const distanceValue = document.createElement('div');
        distanceValue.className = 'delivery-field-value';
        distanceValue.textContent = this._distance + ' км';

        card.appendChild(nameTitle);
        card.appendChild(nameValue);
        card.appendChild(addressTitle);
        card.appendChild(addressValue);
        card.appendChild(distanceTitle);
        card.appendChild(distanceValue);

        this._element = card;
        return card;
    }

    _updateView() {
        if (!this._element) return;

        const children = this._element.children;
        if (children[1]) children[1].textContent = this._name;
        if (children[3]) children[3].textContent = this._address;
        if (children[5]) children[5].textContent = this._distance + ' км';
    }

    getElement() {
        if (!this._element) {
            this.createElement();
        }
        return this._element;
    }
}



EditDelivery.js

import Delivery from './Delivery.js';

export default class EditDelivery extends Delivery {
    constructor(name, address, distance, status = "delivery") {
        super(name, address, distance);
        this._status = status;
    }

    get status() {
        return this._status;
    }

    set status(newStatus) {
        this._status = newStatus;
        this._updateCardStyle();
    }

    createElement() {
        const card = super.createElement();
        
        const editButton = document.createElement('button');
        editButton.className = 'edit-button';
        editButton.textContent = 'Изменить';
        editButton.addEventListener('click', () => this._showEditModal());
        
        card.appendChild(editButton);
        
        this._element = card;
        this._updateCardStyle();
        return card;
    }

    _updateCardStyle() {
        if (!this._element) return;
        
        this._element.classList.remove('status-delivery', 'status-delivered', 'status-canceled');
        
        if (this._status === "delivery") {
            this._element.classList.add('status-delivery');
        } else if (this._status === "delivered") {
            this._element.classList.add('status-delivered');
        } else if (this._status === "canceled") {
            this._element.classList.add('status-canceled');
        }
    }

    _showEditModal() {
        const modal = document.createElement('div');
        modal.className = 'edit-modal';
        
        const modalContent = document.createElement('div');
        modalContent.className = 'modal-content';
        
        const modalHeader = document.createElement('div');
        modalHeader.className = 'modal-header';
        
        const modalTitle = document.createElement('h3');
        modalTitle.textContent = 'Редактирование доставки';
        modalTitle.style.margin = '0';
        
        const closeButton = document.createElement('div');
        closeButton.className = 'modal-close';
        closeButton.innerHTML = '&times;';
        closeButton.addEventListener('click', () => {
            modal.remove();
        });
        
        modalHeader.appendChild(modalTitle);
        modalHeader.appendChild(closeButton);
        
        const nameLabel = document.createElement('label');
        nameLabel.textContent = 'Имя:';
        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.value = this._name;
        nameInput.placeholder = 'Имя';
        
        const addressLabel = document.createElement('label');
        addressLabel.textContent = 'Адрес:';
        const addressInput = document.createElement('input');
        addressInput.type = 'text';
        addressInput.value = this._address;
        addressInput.placeholder = 'Адрес';
        
        const distanceLabel = document.createElement('label');
        distanceLabel.textContent = 'Расстояние (км):';
        const distanceInput = document.createElement('input');
        distanceInput.type = 'number';
        distanceInput.value = this._distance;
        distanceInput.placeholder = 'Расстояние (км)';
        
        const statusLabel = document.createElement('label');
        statusLabel.textContent = 'Статус:';
        const statusSelect = document.createElement('select');
        
        const statuses = [
            {value: "delivery", text: "Доставляется"},
            {value: "delivered", text: "Доставлен"},
            {value: "canceled", text: "Отменён"}
        ];
        
        statuses.forEach(status => {
            const option = document.createElement('option');
            option.value = status.value;
            option.textContent = status.text;
            if (status.value === this._status) {
                option.selected = true;
            }
            statusSelect.appendChild(option);
        });
        
        const saveButton = document.createElement('button');
        saveButton.textContent = 'Сохранить';
        saveButton.className = 'save-button';
        saveButton.addEventListener('click', () => {
            this.name = nameInput.value;
            this.address = addressInput.value;
            this.distance = parseInt(distanceInput.value);
            this.status = statusSelect.value;
            modal.remove();
        });
        
        modalContent.appendChild(modalHeader);
        modalContent.appendChild(nameLabel);
        modalContent.appendChild(nameInput);
        modalContent.appendChild(addressLabel);
        modalContent.appendChild(addressInput);
        modalContent.appendChild(distanceLabel);
        modalContent.appendChild(distanceInput);
        modalContent.appendChild(statusLabel);
        modalContent.appendChild(statusSelect);
        modalContent.appendChild(saveButton);
        
        modal.appendChild(modalContent);
        document.body.appendChild(modal);
    }

    static getTotalDistance(deliveries) {
        return deliveries.reduce((total, delivery) => {
            if (delivery.status !== "canceled") {
                return total + delivery.distance;
            }
            return total;
        }, 0);
    }
}
